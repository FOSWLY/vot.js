var OG=Object.create;var{defineProperty:E0,getPrototypeOf:_G,getOwnPropertyNames:RG}=Object;var EG=Object.prototype.hasOwnProperty;var PG=(G,Y,$)=>{$=G!=null?OG(_G(G)):{};const K=Y||!G||!G.__esModule?E0($,"default",{value:G,enumerable:!0}):$;for(let Q of RG(G))if(!EG.call(K,Q))E0(K,Q,{get:()=>G[Q],enumerable:!0});return K};var R=(G,Y)=>()=>(Y||G((Y={exports:{}}).exports,Y),Y.exports);var n0=(G,Y)=>{for(var $ in Y)E0(G,$,{get:Y[$],enumerable:!0,configurable:!0,set:(K)=>Y[$]=()=>K})};var KY=R((iG,$Y)=>{var SG=function(G,Y){var $=new Array(arguments.length-1),K=0,Q=2,X=!0;while(Q<arguments.length)$[K++]=arguments[Q++];return new Promise(function H(Z,J){$[K]=function M(k){if(X)if(X=!1,k)J(k);else{var U=new Array(arguments.length-1),W=0;while(W<U.length)U[W++]=arguments[W];Z.apply(null,U)}};try{G.apply(Y||null,$)}catch(M){if(X)X=!1,J(M)}})};$Y.exports=SG});var JY=R((HY)=>{var F0=HY;F0.length=function G(Y){var $=Y.length;if(!$)return 0;var K=0;while(--$%4>1&&Y.charAt($)==="=")++K;return Math.ceil(Y.length*3)/4-K};var Y0=new Array(64),XY=new Array(123);for(h=0;h<64;)XY[Y0[h]=h<26?h+65:h<52?h+71:h<62?h-4:h-59|43]=h++;var h;F0.encode=function G(Y,$,K){var Q=null,X=[],H=0,Z=0,J;while($<K){var M=Y[$++];switch(Z){case 0:X[H++]=Y0[M>>2],J=(M&3)<<4,Z=1;break;case 1:X[H++]=Y0[J|M>>4],J=(M&15)<<2,Z=2;break;case 2:X[H++]=Y0[J|M>>6],X[H++]=Y0[M&63],Z=0;break}if(H>8191)(Q||(Q=[])).push(String.fromCharCode.apply(String,X)),H=0}if(Z){if(X[H++]=Y0[J],X[H++]=61,Z===1)X[H++]=61}if(Q){if(H)Q.push(String.fromCharCode.apply(String,X.slice(0,H)));return Q.join("")}return String.fromCharCode.apply(String,X.slice(0,H))};var QY="invalid encoding";F0.decode=function G(Y,$,K){var Q=K,X=0,H;for(var Z=0;Z<Y.length;){var J=Y.charCodeAt(Z++);if(J===61&&X>1)break;if((J=XY[J])===void 0)throw Error(QY);switch(X){case 0:H=J,X=1;break;case 1:$[K++]=H<<2|(J&48)>>4,H=J,X=2;break;case 2:$[K++]=(H&15)<<4|(J&60)>>2,H=J,X=3;break;case 3:$[K++]=(H&3)<<6|J,X=0;break}}if(X===1)throw Error(QY);return K-Q};F0.test=function G(Y){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(Y)}});var qY=R((tG,MY)=>{var C0=function(){this._listeners={}};MY.exports=C0;C0.prototype.on=function G(Y,$,K){return(this._listeners[Y]||(this._listeners[Y]=[])).push({fn:$,ctx:K||this}),this};C0.prototype.off=function G(Y,$){if(Y===void 0)this._listeners={};else if($===void 0)this._listeners[Y]=[];else{var K=this._listeners[Y];for(var Q=0;Q<K.length;)if(K[Q].fn===$)K.splice(Q,1);else++Q}return this};C0.prototype.emit=function G(Y){var $=this._listeners[Y];if($){var K=[],Q=1;for(;Q<arguments.length;)K.push(arguments[Q++]);for(Q=0;Q<$.length;)$[Q].fn.apply($[Q++].ctx,K)}return this}});var zY=R((sG,DY)=>{var ZY=function(G){if(typeof Float32Array!=="undefined")(function(){var Y=new Float32Array([-0]),$=new Uint8Array(Y.buffer),K=$[3]===128;function Q(J,M,k){Y[0]=J,M[k]=$[0],M[k+1]=$[1],M[k+2]=$[2],M[k+3]=$[3]}function X(J,M,k){Y[0]=J,M[k]=$[3],M[k+1]=$[2],M[k+2]=$[1],M[k+3]=$[0]}G.writeFloatLE=K?Q:X,G.writeFloatBE=K?X:Q;function H(J,M){return $[0]=J[M],$[1]=J[M+1],$[2]=J[M+2],$[3]=J[M+3],Y[0]}function Z(J,M){return $[3]=J[M],$[2]=J[M+1],$[1]=J[M+2],$[0]=J[M+3],Y[0]}G.readFloatLE=K?H:Z,G.readFloatBE=K?Z:H})();else(function(){function Y(K,Q,X,H){var Z=Q<0?1:0;if(Z)Q=-Q;if(Q===0)K(1/Q>0?0:2147483648,X,H);else if(isNaN(Q))K(2143289344,X,H);else if(Q>340282346638528860000000000000000000000)K((Z<<31|2139095040)>>>0,X,H);else if(Q<0.000000000000000000000000000000000000011754943508222875)K((Z<<31|Math.round(Q/0.000000000000000000000000000000000000000000001401298464324817))>>>0,X,H);else{var J=Math.floor(Math.log(Q)/Math.LN2),M=Math.round(Q*Math.pow(2,-J)*8388608)&8388607;K((Z<<31|J+127<<23|M)>>>0,X,H)}}G.writeFloatLE=Y.bind(null,FY),G.writeFloatBE=Y.bind(null,CY);function $(K,Q,X){var H=K(Q,X),Z=(H>>31)*2+1,J=H>>>23&255,M=H&8388607;return J===255?M?NaN:Z*Infinity:J===0?Z*0.000000000000000000000000000000000000000000001401298464324817*M:Z*Math.pow(2,J-150)*(M+8388608)}G.readFloatLE=$.bind(null,kY),G.readFloatBE=$.bind(null,AY)})();if(typeof Float64Array!=="undefined")(function(){var Y=new Float64Array([-0]),$=new Uint8Array(Y.buffer),K=$[7]===128;function Q(J,M,k){Y[0]=J,M[k]=$[0],M[k+1]=$[1],M[k+2]=$[2],M[k+3]=$[3],M[k+4]=$[4],M[k+5]=$[5],M[k+6]=$[6],M[k+7]=$[7]}function X(J,M,k){Y[0]=J,M[k]=$[7],M[k+1]=$[6],M[k+2]=$[5],M[k+3]=$[4],M[k+4]=$[3],M[k+5]=$[2],M[k+6]=$[1],M[k+7]=$[0]}G.writeDoubleLE=K?Q:X,G.writeDoubleBE=K?X:Q;function H(J,M){return $[0]=J[M],$[1]=J[M+1],$[2]=J[M+2],$[3]=J[M+3],$[4]=J[M+4],$[5]=J[M+5],$[6]=J[M+6],$[7]=J[M+7],Y[0]}function Z(J,M){return $[7]=J[M],$[6]=J[M+1],$[5]=J[M+2],$[4]=J[M+3],$[3]=J[M+4],$[2]=J[M+5],$[1]=J[M+6],$[0]=J[M+7],Y[0]}G.readDoubleLE=K?H:Z,G.readDoubleBE=K?Z:H})();else(function(){function Y(K,Q,X,H,Z,J){var M=H<0?1:0;if(M)H=-H;if(H===0)K(0,Z,J+Q),K(1/H>0?0:2147483648,Z,J+X);else if(isNaN(H))K(0,Z,J+Q),K(2146959360,Z,J+X);else if(H>179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)K(0,Z,J+Q),K((M<<31|2146435072)>>>0,Z,J+X);else{var k;if(H<0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022250738585072014)k=H/0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005,K(k>>>0,Z,J+Q),K((M<<31|k/4294967296)>>>0,Z,J+X);else{var U=Math.floor(Math.log(H)/Math.LN2);if(U===1024)U=1023;k=H*Math.pow(2,-U),K(k*4503599627370496>>>0,Z,J+Q),K((M<<31|U+1023<<20|k*1048576&1048575)>>>0,Z,J+X)}}}G.writeDoubleLE=Y.bind(null,FY,0,4),G.writeDoubleBE=Y.bind(null,CY,4,0);function $(K,Q,X,H,Z){var J=K(H,Z+Q),M=K(H,Z+X),k=(M>>31)*2+1,U=M>>>20&2047,W=4294967296*(M&1048575)+J;return U===2047?W?NaN:k*Infinity:U===0?k*0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005*W:k*Math.pow(2,U-1075)*(W+4503599627370496)}G.readDoubleLE=$.bind(null,kY,0,4),G.readDoubleBE=$.bind(null,AY,4,0)})();return G},FY=function(G,Y,$){Y[$]=G&255,Y[$+1]=G>>>8&255,Y[$+2]=G>>>16&255,Y[$+3]=G>>>24},CY=function(G,Y,$){Y[$]=G>>>24,Y[$+1]=G>>>16&255,Y[$+2]=G>>>8&255,Y[$+3]=G&255},kY=function(G,Y){return(G[Y]|G[Y+1]<<8|G[Y+2]<<16|G[Y+3]<<24)>>>0},AY=function(G,Y){return(G[Y]<<24|G[Y+1]<<16|G[Y+2]<<8|G[Y+3])>>>0};DY.exports=ZY(ZY)});var NY=R((TY,L0)=>{function LG(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(G){}return null}L0.exports=LG});var IY=R((WY)=>{var V0=WY;V0.length=function G(Y){var $=0,K=0;for(var Q=0;Q<Y.length;++Q)if(K=Y.charCodeAt(Q),K<128)$+=1;else if(K<2048)$+=2;else if((K&64512)===55296&&(Y.charCodeAt(Q+1)&64512)===56320)++Q,$+=4;else $+=3;return $};V0.read=function G(Y,$,K){var Q=K-$;if(Q<1)return"";var X=null,H=[],Z=0,J;while($<K){if(J=Y[$++],J<128)H[Z++]=J;else if(J>191&&J<224)H[Z++]=(J&31)<<6|Y[$++]&63;else if(J>239&&J<365)J=((J&7)<<18|(Y[$++]&63)<<12|(Y[$++]&63)<<6|Y[$++]&63)-65536,H[Z++]=55296+(J>>10),H[Z++]=56320+(J&1023);else H[Z++]=(J&15)<<12|(Y[$++]&63)<<6|Y[$++]&63;if(Z>8191)(X||(X=[])).push(String.fromCharCode.apply(String,H)),Z=0}if(X){if(Z)X.push(String.fromCharCode.apply(String,H.slice(0,Z)));return X.join("")}return String.fromCharCode.apply(String,H.slice(0,Z))};V0.write=function G(Y,$,K){var Q=K,X,H;for(var Z=0;Z<Y.length;++Z)if(X=Y.charCodeAt(Z),X<128)$[K++]=X;else if(X<2048)$[K++]=X>>6|192,$[K++]=X&63|128;else if((X&64512)===55296&&((H=Y.charCodeAt(Z+1))&64512)===56320)X=65536+((X&1023)<<10)+(H&1023),++Z,$[K++]=X>>18|240,$[K++]=X>>12&63|128,$[K++]=X>>6&63|128,$[K++]=X&63|128;else $[K++]=X>>12|224,$[K++]=X>>6&63|128,$[K++]=X&63|128;return K-Q}});var OY=R((Y$,UY)=>{var VG=function(G,Y,$){var K=$||8192,Q=K>>>1,X=null,H=K;return function Z(J){if(J<1||J>Q)return G(J);if(H+J>K)X=G(K),H=0;var M=Y.call(X,H,H+=J);if(H&7)H=(H|7)+1;return M}};UY.exports=VG});var RY=R((G$,_Y)=>{var _=function(G,Y){this.lo=G>>>0,this.hi=Y>>>0};_Y.exports=_;var Q0=l(),a=_.zero=new _(0,0);a.toNumber=function(){return 0};a.zzEncode=a.zzDecode=function(){return this};a.length=function(){return 1};var wG=_.zeroHash="\0\0\0\0\0\0\0\0";_.fromNumber=function G(Y){if(Y===0)return a;var $=Y<0;if($)Y=-Y;var K=Y>>>0,Q=(Y-K)/4294967296>>>0;if($){if(Q=~Q>>>0,K=~K>>>0,++K>4294967295){if(K=0,++Q>4294967295)Q=0}}return new _(K,Q)};_.from=function G(Y){if(typeof Y==="number")return _.fromNumber(Y);if(Q0.isString(Y))if(Q0.Long)Y=Q0.Long.fromString(Y);else return _.fromNumber(parseInt(Y,10));return Y.low||Y.high?new _(Y.low>>>0,Y.high>>>0):a};_.prototype.toNumber=function G(Y){if(!Y&&this.hi>>>31){var $=~this.lo+1>>>0,K=~this.hi>>>0;if(!$)K=K+1>>>0;return-($+K*4294967296)}return this.lo+this.hi*4294967296};_.prototype.toLong=function G(Y){return Q0.Long?new Q0.Long(this.lo|0,this.hi|0,Boolean(Y)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(Y)}};var g=String.prototype.charCodeAt;_.fromHash=function G(Y){if(Y===wG)return a;return new _((g.call(Y,0)|g.call(Y,1)<<8|g.call(Y,2)<<16|g.call(Y,3)<<24)>>>0,(g.call(Y,4)|g.call(Y,5)<<8|g.call(Y,6)<<16|g.call(Y,7)<<24)>>>0)};_.prototype.toHash=function G(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};_.prototype.zzEncode=function G(){var Y=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^Y)>>>0,this.lo=(this.lo<<1^Y)>>>0,this};_.prototype.zzDecode=function G(){var Y=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^Y)>>>0,this.hi=(this.hi>>>1^Y)>>>0,this};_.prototype.length=function G(){var Y=this.lo,$=(this.lo>>>28|this.hi<<4)>>>0,K=this.hi>>>24;return K===0?$===0?Y<16384?Y<128?1:2:Y<2097152?3:4:$<16384?$<128?5:6:$<2097152?7:8:K<128?9:10}});var l=R((w0)=>{var EY=function(G,Y,$){for(var K=Object.keys(Y),Q=0;Q<K.length;++Q)if(G[K[Q]]===void 0||!$)G[K[Q]]=Y[K[Q]];return G},PY=function(G){function Y($,K){if(!(this instanceof Y))return new Y($,K);if(Object.defineProperty(this,"message",{get:function(){return $}}),Error.captureStackTrace)Error.captureStackTrace(this,Y);else Object.defineProperty(this,"stack",{value:new Error().stack||""});if(K)EY(this,K)}return Y.prototype=Object.create(Error.prototype,{constructor:{value:Y,writable:!0,enumerable:!1,configurable:!0},name:{get:function $(){return G},set:void 0,enumerable:!1,configurable:!0},toString:{value:function $(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),Y},A=w0;A.asPromise=KY();A.base64=JY();A.EventEmitter=qY();A.float=zY();A.inquire=NY();A.utf8=IY();A.pool=OY();A.LongBits=RY();A.isNode=Boolean(typeof global!=="undefined"&&global&&global.process&&global.process.versions&&global.process.versions.node);A.global=A.isNode&&global||typeof window!=="undefined"&&window||typeof self!=="undefined"&&self||w0;A.emptyArray=Object.freeze?Object.freeze([]):[];A.emptyObject=Object.freeze?Object.freeze({}):{};A.isInteger=Number.isInteger||function G(Y){return typeof Y==="number"&&isFinite(Y)&&Math.floor(Y)===Y};A.isString=function G(Y){return typeof Y==="string"||Y instanceof String};A.isObject=function G(Y){return Y&&typeof Y==="object"};A.isset=A.isSet=function G(Y,$){var K=Y[$];if(K!=null&&Y.hasOwnProperty($))return typeof K!=="object"||(Array.isArray(K)?K.length:Object.keys(K).length)>0;return!1};A.Buffer=function(){try{var G=A.inquire("buffer").Buffer;return G.prototype.utf8Write?G:null}catch(Y){return null}}();A._Buffer_from=null;A._Buffer_allocUnsafe=null;A.newBuffer=function G(Y){return typeof Y==="number"?A.Buffer?A._Buffer_allocUnsafe(Y):new A.Array(Y):A.Buffer?A._Buffer_from(Y):typeof Uint8Array==="undefined"?Y:new Uint8Array(Y)};A.Array=typeof Uint8Array!=="undefined"?Uint8Array:Array;A.Long=A.global.dcodeIO&&A.global.dcodeIO.Long||A.global.Long||A.inquire("long");A.key2Re=/^true|false|0|1$/;A.key32Re=/^-?(?:0|[1-9][0-9]*)$/;A.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;A.longToHash=function G(Y){return Y?A.LongBits.from(Y).toHash():A.LongBits.zeroHash};A.longFromHash=function G(Y,$){var K=A.LongBits.fromHash(Y);if(A.Long)return A.Long.fromBits(K.lo,K.hi,$);return K.toNumber(Boolean($))};A.merge=EY;A.lcFirst=function G(Y){return Y.charAt(0).toLowerCase()+Y.substring(1)};A.newError=PY;A.ProtocolError=PY("ProtocolError");A.oneOfGetter=function G(Y){var $={};for(var K=0;K<Y.length;++K)$[Y[K]]=1;return function(){for(var Q=Object.keys(this),X=Q.length-1;X>-1;--X)if($[Q[X]]===1&&this[Q[X]]!==void 0&&this[Q[X]]!==null)return Q[X]}};A.oneOfSetter=function G(Y){return function($){for(var K=0;K<Y.length;++K)if(Y[K]!==$)delete this[Y[K]]}};A.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};A._configure=function(){var G=A.Buffer;if(!G){A._Buffer_from=A._Buffer_allocUnsafe=null;return}A._Buffer_from=G.from!==Uint8Array.from&&G.from||function Y($,K){return new G($,K)},A._Buffer_allocUnsafe=G.allocUnsafe||function Y($){return new G($)}}});var c0=R((K$,VY)=>{var X0=function(G,Y,$){this.fn=G,this.len=Y,this.next=void 0,this.val=$},h0=function(){},BG=function(G){this.head=G.head,this.tail=G.tail,this.len=G.len,this.next=G.states},T=function(){this.len=0,this.head=new X0(h0,0,0),this.tail=this.head,this.states=null},j0=function(G,Y,$){Y[$]=G&255},yG=function(G,Y,$){while(G>127)Y[$++]=G&127|128,G>>>=7;Y[$]=G},v0=function(G,Y){this.len=G,this.next=void 0,this.val=Y},p0=function(G,Y,$){while(G.hi)Y[$++]=G.lo&127|128,G.lo=(G.lo>>>7|G.hi<<25)>>>0,G.hi>>>=7;while(G.lo>127)Y[$++]=G.lo&127|128,G.lo=G.lo>>>7;Y[$++]=G.lo},y0=function(G,Y,$){Y[$]=G&255,Y[$+1]=G>>>8&255,Y[$+2]=G>>>16&255,Y[$+3]=G>>>24};VY.exports=T;var w=l(),B0,k0=w.LongBits,xY=w.base64,SY=w.utf8,LY=function G(){return w.Buffer?function Y(){return(T.create=function $(){return new B0})()}:function Y(){return new T}};T.create=LY();T.alloc=function G(Y){return new w.Array(Y)};if(w.Array!==Array)T.alloc=w.pool(T.alloc,w.Array.prototype.subarray);T.prototype._push=function G(Y,$,K){return this.tail=this.tail.next=new X0(Y,$,K),this.len+=$,this};v0.prototype=Object.create(X0.prototype);v0.prototype.fn=yG;T.prototype.uint32=function G(Y){return this.len+=(this.tail=this.tail.next=new v0((Y=Y>>>0)<128?1:Y<16384?2:Y<2097152?3:Y<268435456?4:5,Y)).len,this};T.prototype.int32=function G(Y){return Y<0?this._push(p0,10,k0.fromNumber(Y)):this.uint32(Y)};T.prototype.sint32=function G(Y){return this.uint32((Y<<1^Y>>31)>>>0)};T.prototype.uint64=function G(Y){var $=k0.from(Y);return this._push(p0,$.length(),$)};T.prototype.int64=T.prototype.uint64;T.prototype.sint64=function G(Y){var $=k0.from(Y).zzEncode();return this._push(p0,$.length(),$)};T.prototype.bool=function G(Y){return this._push(j0,1,Y?1:0)};T.prototype.fixed32=function G(Y){return this._push(y0,4,Y>>>0)};T.prototype.sfixed32=T.prototype.fixed32;T.prototype.fixed64=function G(Y){var $=k0.from(Y);return this._push(y0,4,$.lo)._push(y0,4,$.hi)};T.prototype.sfixed64=T.prototype.fixed64;T.prototype.float=function G(Y){return this._push(w.float.writeFloatLE,4,Y)};T.prototype.double=function G(Y){return this._push(w.float.writeDoubleLE,8,Y)};var hG=w.Array.prototype.set?function G(Y,$,K){$.set(Y,K)}:function G(Y,$,K){for(var Q=0;Q<Y.length;++Q)$[K+Q]=Y[Q]};T.prototype.bytes=function G(Y){var $=Y.length>>>0;if(!$)return this._push(j0,1,0);if(w.isString(Y)){var K=T.alloc($=xY.length(Y));xY.decode(Y,K,0),Y=K}return this.uint32($)._push(hG,$,Y)};T.prototype.string=function G(Y){var $=SY.length(Y);return $?this.uint32($)._push(SY.write,$,Y):this._push(j0,1,0)};T.prototype.fork=function G(){return this.states=new BG(this),this.head=this.tail=new X0(h0,0,0),this.len=0,this};T.prototype.reset=function G(){if(this.states)this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next;else this.head=this.tail=new X0(h0,0,0),this.len=0;return this};T.prototype.ldelim=function G(){var Y=this.head,$=this.tail,K=this.len;if(this.reset().uint32(K),K)this.tail.next=Y.next,this.tail=$,this.len+=K;return this};T.prototype.finish=function G(){var Y=this.head.next,$=this.constructor.alloc(this.len),K=0;while(Y)Y.fn(Y.val,$,K),K+=Y.len,Y=Y.next;return $};T._configure=function(G){B0=G,T.create=LY(),B0._configure()}});var yY=R((Q$,BY)=>{var c=function(){wY.call(this)},jG=function(G,Y,$){if(G.length<40)n.utf8.write(G,Y,$);else if(Y.utf8Write)Y.utf8Write(G,$);else Y.write(G,$)};BY.exports=c;var wY=c0();(c.prototype=Object.create(wY.prototype)).constructor=c;var n=l();c._configure=function(){c.alloc=n._Buffer_allocUnsafe,c.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&n.Buffer.prototype.set.name==="set"?function G(Y,$,K){$.set(Y,K)}:function G(Y,$,K){if(Y.copy)Y.copy($,K,0,Y.length);else for(var Q=0;Q<Y.length;)$[K++]=Y[Q++]}};c.prototype.bytes=function G(Y){if(n.isString(Y))Y=n._Buffer_from(Y,"base64");var $=Y.length>>>0;if(this.uint32($),$)this._push(c.writeBytesBuffer,$,Y);return this};c.prototype.string=function G(Y){var $=n.Buffer.byteLength(Y);if(this.uint32($),$)this._push(jG,$,Y);return this};c._configure()});var m0=R((X$,cY)=>{var v=function(G,Y){return RangeError("index out of range: "+G.pos+" + "+(Y||1)+" > "+G.len)},O=function(G){this.buf=G,this.pos=0,this.len=G.length},f0=function(){var G=new vY(0,0),Y=0;if(this.len-this.pos>4){for(;Y<4;++Y)if(G.lo=(G.lo|(this.buf[this.pos]&127)<<Y*7)>>>0,this.buf[this.pos++]<128)return G;if(G.lo=(G.lo|(this.buf[this.pos]&127)<<28)>>>0,G.hi=(G.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return G;Y=0}else{for(;Y<3;++Y){if(this.pos>=this.len)throw v(this);if(G.lo=(G.lo|(this.buf[this.pos]&127)<<Y*7)>>>0,this.buf[this.pos++]<128)return G}return G.lo=(G.lo|(this.buf[this.pos++]&127)<<Y*7)>>>0,G}if(this.len-this.pos>4){for(;Y<5;++Y)if(G.hi=(G.hi|(this.buf[this.pos]&127)<<Y*7+3)>>>0,this.buf[this.pos++]<128)return G}else for(;Y<5;++Y){if(this.pos>=this.len)throw v(this);if(G.hi=(G.hi|(this.buf[this.pos]&127)<<Y*7+3)>>>0,this.buf[this.pos++]<128)return G}throw Error("invalid varint encoding")},A0=function(G,Y){return(G[Y-4]|G[Y-3]<<8|G[Y-2]<<16|G[Y-1]<<24)>>>0},jY=function(){if(this.pos+8>this.len)throw v(this,8);return new vY(A0(this.buf,this.pos+=4),A0(this.buf,this.pos+=4))};cY.exports=O;var j=l(),d0,vY=j.LongBits,vG=j.utf8,hY=typeof Uint8Array!=="undefined"?function G(Y){if(Y instanceof Uint8Array||Array.isArray(Y))return new O(Y);throw Error("illegal buffer")}:function G(Y){if(Array.isArray(Y))return new O(Y);throw Error("illegal buffer")},pY=function G(){return j.Buffer?function Y($){return(O.create=function K(Q){return j.Buffer.isBuffer(Q)?new d0(Q):hY(Q)})($)}:hY};O.create=pY();O.prototype._slice=j.Array.prototype.subarray||j.Array.prototype.slice;O.prototype.uint32=function G(){var Y=4294967295;return function $(){if(Y=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128)return Y;if(Y=(Y|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)return Y;if(Y=(Y|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)return Y;if(Y=(Y|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)return Y;if(Y=(Y|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128)return Y;if((this.pos+=5)>this.len)throw this.pos=this.len,v(this,10);return Y}}();O.prototype.int32=function G(){return this.uint32()|0};O.prototype.sint32=function G(){var Y=this.uint32();return Y>>>1^-(Y&1)|0};O.prototype.bool=function G(){return this.uint32()!==0};O.prototype.fixed32=function G(){if(this.pos+4>this.len)throw v(this,4);return A0(this.buf,this.pos+=4)};O.prototype.sfixed32=function G(){if(this.pos+4>this.len)throw v(this,4);return A0(this.buf,this.pos+=4)|0};O.prototype.float=function G(){if(this.pos+4>this.len)throw v(this,4);var Y=j.float.readFloatLE(this.buf,this.pos);return this.pos+=4,Y};O.prototype.double=function G(){if(this.pos+8>this.len)throw v(this,4);var Y=j.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,Y};O.prototype.bytes=function G(){var Y=this.uint32(),$=this.pos,K=this.pos+Y;if(K>this.len)throw v(this,Y);if(this.pos+=Y,Array.isArray(this.buf))return this.buf.slice($,K);if($===K){var Q=j.Buffer;return Q?Q.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,$,K)};O.prototype.string=function G(){var Y=this.bytes();return vG.read(Y,0,Y.length)};O.prototype.skip=function G(Y){if(typeof Y==="number"){if(this.pos+Y>this.len)throw v(this,Y);this.pos+=Y}else do if(this.pos>=this.len)throw v(this);while(this.buf[this.pos++]&128);return this};O.prototype.skipType=function(G){switch(G){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while((G=this.uint32()&7)!==4)this.skipType(G);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+G+" at offset "+this.pos)}return this};O._configure=function(G){d0=G,O.create=pY(),d0._configure();var Y=j.Long?"toLong":"toNumber";j.merge(O.prototype,{int64:function $(){return f0.call(this)[Y](!1)},uint64:function $(){return f0.call(this)[Y](!0)},sint64:function $(){return f0.call(this).zzDecode()[Y](!1)},fixed64:function $(){return jY.call(this)[Y](!0)},sfixed64:function $(){return jY.call(this)[Y](!1)}})}});var bY=R((H$,mY)=>{var o=function(G){dY.call(this,G)};mY.exports=o;var dY=m0();(o.prototype=Object.create(dY.prototype)).constructor=o;var fY=l();o._configure=function(){if(fY.Buffer)o.prototype._slice=fY.Buffer.prototype.slice};o.prototype.string=function G(){var Y=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+Y,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+Y,this.len))};o._configure()});var lY=R((J$,gY)=>{var H0=function(G,Y,$){if(typeof G!=="function")throw TypeError("rpcImpl must be a function");b0.EventEmitter.call(this),this.rpcImpl=G,this.requestDelimited=Boolean(Y),this.responseDelimited=Boolean($)};gY.exports=H0;var b0=l();(H0.prototype=Object.create(b0.EventEmitter.prototype)).constructor=H0;H0.prototype.rpcCall=function G(Y,$,K,Q,X){if(!Q)throw TypeError("request must be specified");var H=this;if(!X)return b0.asPromise(G,H,Y,$,K,Q);if(!H.rpcImpl){setTimeout(function(){X(Error("already ended"))},0);return}try{return H.rpcImpl(Y,$[H.requestDelimited?"encodeDelimited":"encode"](Q).finish(),function Z(J,M){if(J)return H.emit("error",J,Y),X(J);if(M===null){H.end(!0);return}if(!(M instanceof K))try{M=K[H.responseDelimited?"decodeDelimited":"decode"](M)}catch(k){return H.emit("error",k,Y),X(k)}return H.emit("data",M,Y),X(null,M)})}catch(Z){H.emit("error",Z,Y),setTimeout(function(){X(Z)},0);return}};H0.prototype.end=function G(Y){if(this.rpcImpl){if(!Y)this.rpcImpl(null,null,null);this.rpcImpl=null,this.emit("end").off()}return this}});var uY=R((nY)=>{var pG=nY;pG.Service=lY()});var oY=R((q$,aY)=>{aY.exports={}});var tY=R((rY)=>{var iY=function(){x.util._configure(),x.Writer._configure(x.BufferWriter),x.Reader._configure(x.BufferReader)},x=rY;x.build="minimal";x.Writer=c0();x.BufferWriter=yY();x.Reader=m0();x.BufferReader=bY();x.util=l();x.rpc=uY();x.roots=oY();x.configure=iY;iY()});var CG={};n0(CG,{streamIntervalToJSON:()=>{{return FG}},streamIntervalFromJSON:()=>{{return ZG}},protobufPackage:()=>{{return cG}},YandexSessionResponse:()=>{{return _0}},YandexSessionRequest:()=>{{return O0}},VideoTranslationResponse:()=>{{return z0}},VideoTranslationRequest:()=>{{return D0}},VideoTranslationHelpObject:()=>{{return i}},SubtitlesResponse:()=>{{return N0}},SubtitlesRequest:()=>{{return T0}},SubtitlesObject:()=>{{return r}},StreamTranslationResponse:()=>{{return I0}},StreamTranslationRequest:()=>{{return W0}},StreamTranslationObject:()=>{{return t}},StreamPingRequest:()=>{{return U0}},StreamInterval:()=>{{return p}}});var I=function(G,Y,$){this.low=G|0,this.high=Y|0,this.unsigned=!!$},E=function(G){return(G&&G.__isLong__)===!0},u0=function(G){var Y=Math.clz32(G&-G);return G?31-Y:Y},u=function(G,Y){var $,K,Q;if(Y){if(G>>>=0,Q=0<=G&&G<256){if(K=o0[G],K)return K}if($=N(G,0,!0),Q)o0[G]=$;return $}else{if(G|=0,Q=-128<=G&&G<128){if(K=a0[G],K)return K}if($=N(G,G<0?-1:0,!1),Q)a0[G]=$;return $}},V=function(G,Y){if(isNaN(G))return Y?d:B;if(Y){if(G<0)return d;if(G>=s0)return GY}else{if(G<=-r0)return P;if(G+1>=r0)return YY}if(G<0)return V(-G,Y).neg();return N(G%e|0,G/e|0,Y)},N=function(G,Y,$){return new I(G,Y,$)},x0=function(G,Y,$){if(G.length===0)throw Error("empty string");if(typeof Y==="number")$=Y,Y=!1;else Y=!!Y;if(G==="NaN"||G==="Infinity"||G==="+Infinity"||G==="-Infinity")return Y?d:B;if($=$||10,$<2||36<$)throw RangeError("radix");var K;if((K=G.indexOf("-"))>0)throw Error("interior hyphen");else if(K===0)return x0(G.substring(1),Y,$).neg();var Q=V(Z0($,8)),X=B;for(var H=0;H<G.length;H+=8){var Z=Math.min(8,G.length-H),J=parseInt(G.substring(H,H+Z),$);if(Z<8){var M=V(Z0($,Z));X=X.mul(M).add(V(J))}else X=X.mul(Q),X=X.add(V(J))}return X.unsigned=Y,X},y=function(G,Y){if(typeof G==="number")return V(G,Y);if(typeof G==="string")return x0(G,Y);return N(G.low,G.high,typeof Y==="boolean"?Y:G.unsigned)},L=null;try{L=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(G){}I.prototype.__isLong__;Object.defineProperty(I.prototype,"__isLong__",{value:!0});I.isLong=E;var a0={},o0={};I.fromInt=u;I.fromNumber=V;I.fromBits=N;var Z0=Math.pow;I.fromString=x0;I.fromValue=y;var i0=1<<16,xG=1<<24,e=i0*i0,s0=e*e,r0=s0/2,t0=u(xG),B=u(0);I.ZERO=B;var d=u(0,!0);I.UZERO=d;var s=u(1);I.ONE=s;var e0=u(1,!0);I.UONE=e0;var P0=u(-1);I.NEG_ONE=P0;var YY=N(4294967295|0,2147483647|0,!1);I.MAX_VALUE=YY;var GY=N(4294967295|0,4294967295|0,!0);I.MAX_UNSIGNED_VALUE=GY;var P=N(0,2147483648|0,!1);I.MIN_VALUE=P;var q=I.prototype;q.toInt=function G(){return this.unsigned?this.low>>>0:this.low};q.toNumber=function G(){if(this.unsigned)return(this.high>>>0)*e+(this.low>>>0);return this.high*e+(this.low>>>0)};q.toString=function G(Y){if(Y=Y||10,Y<2||36<Y)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(P)){var $=V(Y),K=this.div($),Q=K.mul($).sub(this);return K.toString(Y)+Q.toInt().toString(Y)}else return"-"+this.neg().toString(Y);var X=V(Z0(Y,6),this.unsigned),H=this,Z="";while(!0){var J=H.div(X),M=H.sub(J.mul(X)).toInt()>>>0,k=M.toString(Y);if(H=J,H.isZero())return k+Z;else{while(k.length<6)k="0"+k;Z=""+k+Z}}};q.getHighBits=function G(){return this.high};q.getHighBitsUnsigned=function G(){return this.high>>>0};q.getLowBits=function G(){return this.low};q.getLowBitsUnsigned=function G(){return this.low>>>0};q.getNumBitsAbs=function G(){if(this.isNegative())return this.eq(P)?64:this.neg().getNumBitsAbs();var Y=this.high!=0?this.high:this.low;for(var $=31;$>0;$--)if((Y&1<<$)!=0)break;return this.high!=0?$+33:$+1};q.isZero=function G(){return this.high===0&&this.low===0};q.eqz=q.isZero;q.isNegative=function G(){return!this.unsigned&&this.high<0};q.isPositive=function G(){return this.unsigned||this.high>=0};q.isOdd=function G(){return(this.low&1)===1};q.isEven=function G(){return(this.low&1)===0};q.equals=function G(Y){if(!E(Y))Y=y(Y);if(this.unsigned!==Y.unsigned&&this.high>>>31===1&&Y.high>>>31===1)return!1;return this.high===Y.high&&this.low===Y.low};q.eq=q.equals;q.notEquals=function G(Y){return!this.eq(Y)};q.neq=q.notEquals;q.ne=q.notEquals;q.lessThan=function G(Y){return this.comp(Y)<0};q.lt=q.lessThan;q.lessThanOrEqual=function G(Y){return this.comp(Y)<=0};q.lte=q.lessThanOrEqual;q.le=q.lessThanOrEqual;q.greaterThan=function G(Y){return this.comp(Y)>0};q.gt=q.greaterThan;q.greaterThanOrEqual=function G(Y){return this.comp(Y)>=0};q.gte=q.greaterThanOrEqual;q.ge=q.greaterThanOrEqual;q.compare=function G(Y){if(!E(Y))Y=y(Y);if(this.eq(Y))return 0;var $=this.isNegative(),K=Y.isNegative();if($&&!K)return-1;if(!$&&K)return 1;if(!this.unsigned)return this.sub(Y).isNegative()?-1:1;return Y.high>>>0>this.high>>>0||Y.high===this.high&&Y.low>>>0>this.low>>>0?-1:1};q.comp=q.compare;q.negate=function G(){if(!this.unsigned&&this.eq(P))return P;return this.not().add(s)};q.neg=q.negate;q.add=function G(Y){if(!E(Y))Y=y(Y);var $=this.high>>>16,K=this.high&65535,Q=this.low>>>16,X=this.low&65535,H=Y.high>>>16,Z=Y.high&65535,J=Y.low>>>16,M=Y.low&65535,k=0,U=0,W=0,S=0;return S+=X+M,W+=S>>>16,S&=65535,W+=Q+J,U+=W>>>16,W&=65535,U+=K+Z,k+=U>>>16,U&=65535,k+=$+H,k&=65535,N(W<<16|S,k<<16|U,this.unsigned)};q.subtract=function G(Y){if(!E(Y))Y=y(Y);return this.add(Y.neg())};q.sub=q.subtract;q.multiply=function G(Y){if(this.isZero())return this;if(!E(Y))Y=y(Y);if(L){var $=L.mul(this.low,this.high,Y.low,Y.high);return N($,L.get_high(),this.unsigned)}if(Y.isZero())return this.unsigned?d:B;if(this.eq(P))return Y.isOdd()?P:B;if(Y.eq(P))return this.isOdd()?P:B;if(this.isNegative())if(Y.isNegative())return this.neg().mul(Y.neg());else return this.neg().mul(Y).neg();else if(Y.isNegative())return this.mul(Y.neg()).neg();if(this.lt(t0)&&Y.lt(t0))return V(this.toNumber()*Y.toNumber(),this.unsigned);var K=this.high>>>16,Q=this.high&65535,X=this.low>>>16,H=this.low&65535,Z=Y.high>>>16,J=Y.high&65535,M=Y.low>>>16,k=Y.low&65535,U=0,W=0,S=0,q0=0;return q0+=H*k,S+=q0>>>16,q0&=65535,S+=X*k,W+=S>>>16,S&=65535,S+=H*M,W+=S>>>16,S&=65535,W+=Q*k,U+=W>>>16,W&=65535,W+=X*M,U+=W>>>16,W&=65535,W+=H*J,U+=W>>>16,W&=65535,U+=K*k+Q*M+X*J+H*Z,U&=65535,N(S<<16|q0,U<<16|W,this.unsigned)};q.mul=q.multiply;q.divide=function G(Y){if(!E(Y))Y=y(Y);if(Y.isZero())throw Error("division by zero");if(L){if(!this.unsigned&&this.high===-2147483648&&Y.low===-1&&Y.high===-1)return this;var $=(this.unsigned?L.div_u:L.div_s)(this.low,this.high,Y.low,Y.high);return N($,L.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?d:B;var K,Q,X;if(!this.unsigned){if(this.eq(P))if(Y.eq(s)||Y.eq(P0))return P;else if(Y.eq(P))return s;else{var H=this.shr(1);if(K=H.div(Y).shl(1),K.eq(B))return Y.isNegative()?s:P0;else return Q=this.sub(Y.mul(K)),X=K.add(Q.div(Y)),X}else if(Y.eq(P))return this.unsigned?d:B;if(this.isNegative()){if(Y.isNegative())return this.neg().div(Y.neg());return this.neg().div(Y).neg()}else if(Y.isNegative())return this.div(Y.neg()).neg();X=B}else{if(!Y.unsigned)Y=Y.toUnsigned();if(Y.gt(this))return d;if(Y.gt(this.shru(1)))return e0;X=d}Q=this;while(Q.gte(Y)){K=Math.max(1,Math.floor(Q.toNumber()/Y.toNumber()));var Z=Math.ceil(Math.log(K)/Math.LN2),J=Z<=48?1:Z0(2,Z-48),M=V(K),k=M.mul(Y);while(k.isNegative()||k.gt(Q))K-=J,M=V(K,this.unsigned),k=M.mul(Y);if(M.isZero())M=s;X=X.add(M),Q=Q.sub(k)}return X};q.div=q.divide;q.modulo=function G(Y){if(!E(Y))Y=y(Y);if(L){var $=(this.unsigned?L.rem_u:L.rem_s)(this.low,this.high,Y.low,Y.high);return N($,L.get_high(),this.unsigned)}return this.sub(this.div(Y).mul(Y))};q.mod=q.modulo;q.rem=q.modulo;q.not=function G(){return N(~this.low,~this.high,this.unsigned)};q.countLeadingZeros=function G(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};q.clz=q.countLeadingZeros;q.countTrailingZeros=function G(){return this.low?u0(this.low):u0(this.high)+32};q.ctz=q.countTrailingZeros;q.and=function G(Y){if(!E(Y))Y=y(Y);return N(this.low&Y.low,this.high&Y.high,this.unsigned)};q.or=function G(Y){if(!E(Y))Y=y(Y);return N(this.low|Y.low,this.high|Y.high,this.unsigned)};q.xor=function G(Y){if(!E(Y))Y=y(Y);return N(this.low^Y.low,this.high^Y.high,this.unsigned)};q.shiftLeft=function G(Y){if(E(Y))Y=Y.toInt();if((Y&=63)===0)return this;else if(Y<32)return N(this.low<<Y,this.high<<Y|this.low>>>32-Y,this.unsigned);else return N(0,this.low<<Y-32,this.unsigned)};q.shl=q.shiftLeft;q.shiftRight=function G(Y){if(E(Y))Y=Y.toInt();if((Y&=63)===0)return this;else if(Y<32)return N(this.low>>>Y|this.high<<32-Y,this.high>>Y,this.unsigned);else return N(this.high>>Y-32,this.high>=0?0:-1,this.unsigned)};q.shr=q.shiftRight;q.shiftRightUnsigned=function G(Y){if(E(Y))Y=Y.toInt();if((Y&=63)===0)return this;if(Y<32)return N(this.low>>>Y|this.high<<32-Y,this.high>>>Y,this.unsigned);if(Y===32)return N(this.high,0,this.unsigned);return N(this.high>>>Y-32,0,this.unsigned)};q.shru=q.shiftRightUnsigned;q.shr_u=q.shiftRightUnsigned;q.rotateLeft=function G(Y){var $;if(E(Y))Y=Y.toInt();if((Y&=63)===0)return this;if(Y===32)return N(this.high,this.low,this.unsigned);if(Y<32)return $=32-Y,N(this.low<<Y|this.high>>>$,this.high<<Y|this.low>>>$,this.unsigned);return Y-=32,$=32-Y,N(this.high<<Y|this.low>>>$,this.low<<Y|this.high>>>$,this.unsigned)};q.rotl=q.rotateLeft;q.rotateRight=function G(Y){var $;if(E(Y))Y=Y.toInt();if((Y&=63)===0)return this;if(Y===32)return N(this.high,this.low,this.unsigned);if(Y<32)return $=32-Y,N(this.high<<$|this.low>>>Y,this.low<<$|this.high>>>Y,this.unsigned);return Y-=32,$=32-Y,N(this.low<<$|this.high>>>Y,this.high<<$|this.low>>>Y,this.unsigned)};q.rotr=q.rotateRight;q.toSigned=function G(){if(!this.unsigned)return this;return N(this.low,this.high,!1)};q.toUnsigned=function G(){if(this.unsigned)return this;return N(this.low,this.high,!0)};q.toBytes=function G(Y){return Y?this.toBytesLE():this.toBytesBE()};q.toBytesLE=function G(){var Y=this.high,$=this.low;return[$&255,$>>>8&255,$>>>16&255,$>>>24,Y&255,Y>>>8&255,Y>>>16&255,Y>>>24]};q.toBytesBE=function G(){var Y=this.high,$=this.low;return[Y>>>24,Y>>>16&255,Y>>>8&255,Y&255,$>>>24,$>>>16&255,$>>>8&255,$&255]};I.fromBytes=function G(Y,$,K){return K?I.fromBytesLE(Y,$):I.fromBytesBE(Y,$)};I.fromBytesLE=function G(Y,$){return new I(Y[0]|Y[1]<<8|Y[2]<<16|Y[3]<<24,Y[4]|Y[5]<<8|Y[6]<<16|Y[7]<<24,$)};I.fromBytesBE=function G(Y,$){return new I(Y[4]<<24|Y[5]<<16|Y[6]<<8|Y[7],Y[0]<<24|Y[1]<<16|Y[2]<<8|Y[3],$)};var S0=I;var z=PG(tY(),1);function ZG(G){switch(G){case 0:case"NO_CONNECTION":return p.NO_CONNECTION;case 10:case"TRANSLATING":return p.TRANSLATING;case 20:case"STREAMING":return p.STREAMING;case-1:case"UNRECOGNIZED":default:return p.UNRECOGNIZED}}function FG(G){switch(G){case p.NO_CONNECTION:return"NO_CONNECTION";case p.TRANSLATING:return"TRANSLATING";case p.STREAMING:return"STREAMING";case p.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var sY=function(){return{target:"",targetUrl:""}},eY=function(){return{url:"",deviceId:void 0,firstRequest:!1,duration:0,unknown0:0,language:"",forceSourceLang:!1,unknown1:0,translationHelp:[],responseLanguage:"",unknown2:0,unknown3:0,bypassCache:!1}},YG=function(){return{url:void 0,duration:void 0,status:0,remainingTime:void 0,unknown0:void 0,translationId:"",language:void 0,message:void 0}},GG=function(){return{language:"",url:"",unknown0:0,translatedLanguages:"",translatedUrl:"",unknown1:0,unknown2:0}},$G=function(){return{url:"",language:""}},KG=function(){return{waiting:!1,subtitles:[]}},QG=function(){return{url:"",timestamp:0}},XG=function(){return{url:"",language:"",responseLanguage:""}},HG=function(){return{interval:0,translatedInfo:void 0,pingId:void 0}},JG=function(){return{pingId:0}},MG=function(){return{uuid:"",module:""}},qG=function(){return{sign:"",expires:0}},fG=function(G){if(G.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return G.toNumber()},D=function(G){return G!==null&&G!==void 0},cG="",p;(function(Q){Q[Q["NO_CONNECTION"]=0]="NO_CONNECTION";Q[Q["TRANSLATING"]=10]="TRANSLATING";Q[Q["STREAMING"]=20]="STREAMING";Q[Q["UNRECOGNIZED"]=-1]="UNRECOGNIZED"})(p||(p={}));var i={encode(G,Y=z.default.Writer.create()){if(G.target!=="")Y.uint32(10).string(G.target);if(G.targetUrl!=="")Y.uint32(18).string(G.targetUrl);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=sY();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==10)break;Q.target=$.string();continue;case 2:if(X!==18)break;Q.targetUrl=$.string();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{target:D(G.target)?globalThis.String(G.target):"",targetUrl:D(G.targetUrl)?globalThis.String(G.targetUrl):""}},toJSON(G){const Y={};if(G.target!=="")Y.target=G.target;if(G.targetUrl!=="")Y.targetUrl=G.targetUrl;return Y},create(G){return i.fromPartial(G??{})},fromPartial(G){const Y=sY();return Y.target=G.target??"",Y.targetUrl=G.targetUrl??"",Y}},D0={encode(G,Y=z.default.Writer.create()){if(G.url!=="")Y.uint32(26).string(G.url);if(G.deviceId!==void 0)Y.uint32(34).string(G.deviceId);if(G.firstRequest!==!1)Y.uint32(40).bool(G.firstRequest);if(G.duration!==0)Y.uint32(49).double(G.duration);if(G.unknown0!==0)Y.uint32(56).int32(G.unknown0);if(G.language!=="")Y.uint32(66).string(G.language);if(G.forceSourceLang!==!1)Y.uint32(72).bool(G.forceSourceLang);if(G.unknown1!==0)Y.uint32(80).int32(G.unknown1);for(let $ of G.translationHelp)i.encode($,Y.uint32(90).fork()).ldelim();if(G.responseLanguage!=="")Y.uint32(114).string(G.responseLanguage);if(G.unknown2!==0)Y.uint32(120).int32(G.unknown2);if(G.unknown3!==0)Y.uint32(128).int32(G.unknown3);if(G.bypassCache!==!1)Y.uint32(136).bool(G.bypassCache);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=eY();while($.pos<K){const X=$.uint32();switch(X>>>3){case 3:if(X!==26)break;Q.url=$.string();continue;case 4:if(X!==34)break;Q.deviceId=$.string();continue;case 5:if(X!==40)break;Q.firstRequest=$.bool();continue;case 6:if(X!==49)break;Q.duration=$.double();continue;case 7:if(X!==56)break;Q.unknown0=$.int32();continue;case 8:if(X!==66)break;Q.language=$.string();continue;case 9:if(X!==72)break;Q.forceSourceLang=$.bool();continue;case 10:if(X!==80)break;Q.unknown1=$.int32();continue;case 11:if(X!==90)break;Q.translationHelp.push(i.decode($,$.uint32()));continue;case 14:if(X!==114)break;Q.responseLanguage=$.string();continue;case 15:if(X!==120)break;Q.unknown2=$.int32();continue;case 16:if(X!==128)break;Q.unknown3=$.int32();continue;case 17:if(X!==136)break;Q.bypassCache=$.bool();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{url:D(G.url)?globalThis.String(G.url):"",deviceId:D(G.deviceId)?globalThis.String(G.deviceId):void 0,firstRequest:D(G.firstRequest)?globalThis.Boolean(G.firstRequest):!1,duration:D(G.duration)?globalThis.Number(G.duration):0,unknown0:D(G.unknown0)?globalThis.Number(G.unknown0):0,language:D(G.language)?globalThis.String(G.language):"",forceSourceLang:D(G.forceSourceLang)?globalThis.Boolean(G.forceSourceLang):!1,unknown1:D(G.unknown1)?globalThis.Number(G.unknown1):0,translationHelp:globalThis.Array.isArray(G?.translationHelp)?G.translationHelp.map((Y)=>i.fromJSON(Y)):[],responseLanguage:D(G.responseLanguage)?globalThis.String(G.responseLanguage):"",unknown2:D(G.unknown2)?globalThis.Number(G.unknown2):0,unknown3:D(G.unknown3)?globalThis.Number(G.unknown3):0,bypassCache:D(G.bypassCache)?globalThis.Boolean(G.bypassCache):!1}},toJSON(G){const Y={};if(G.url!=="")Y.url=G.url;if(G.deviceId!==void 0)Y.deviceId=G.deviceId;if(G.firstRequest!==!1)Y.firstRequest=G.firstRequest;if(G.duration!==0)Y.duration=G.duration;if(G.unknown0!==0)Y.unknown0=Math.round(G.unknown0);if(G.language!=="")Y.language=G.language;if(G.forceSourceLang!==!1)Y.forceSourceLang=G.forceSourceLang;if(G.unknown1!==0)Y.unknown1=Math.round(G.unknown1);if(G.translationHelp?.length)Y.translationHelp=G.translationHelp.map(($)=>i.toJSON($));if(G.responseLanguage!=="")Y.responseLanguage=G.responseLanguage;if(G.unknown2!==0)Y.unknown2=Math.round(G.unknown2);if(G.unknown3!==0)Y.unknown3=Math.round(G.unknown3);if(G.bypassCache!==!1)Y.bypassCache=G.bypassCache;return Y},create(G){return D0.fromPartial(G??{})},fromPartial(G){const Y=eY();return Y.url=G.url??"",Y.deviceId=G.deviceId??void 0,Y.firstRequest=G.firstRequest??!1,Y.duration=G.duration??0,Y.unknown0=G.unknown0??0,Y.language=G.language??"",Y.forceSourceLang=G.forceSourceLang??!1,Y.unknown1=G.unknown1??0,Y.translationHelp=G.translationHelp?.map(($)=>i.fromPartial($))||[],Y.responseLanguage=G.responseLanguage??"",Y.unknown2=G.unknown2??0,Y.unknown3=G.unknown3??0,Y.bypassCache=G.bypassCache??!1,Y}},z0={encode(G,Y=z.default.Writer.create()){if(G.url!==void 0)Y.uint32(10).string(G.url);if(G.duration!==void 0)Y.uint32(17).double(G.duration);if(G.status!==0)Y.uint32(32).int32(G.status);if(G.remainingTime!==void 0)Y.uint32(40).int32(G.remainingTime);if(G.unknown0!==void 0)Y.uint32(48).int32(G.unknown0);if(G.translationId!=="")Y.uint32(58).string(G.translationId);if(G.language!==void 0)Y.uint32(66).string(G.language);if(G.message!==void 0)Y.uint32(74).string(G.message);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=YG();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==10)break;Q.url=$.string();continue;case 2:if(X!==17)break;Q.duration=$.double();continue;case 4:if(X!==32)break;Q.status=$.int32();continue;case 5:if(X!==40)break;Q.remainingTime=$.int32();continue;case 6:if(X!==48)break;Q.unknown0=$.int32();continue;case 7:if(X!==58)break;Q.translationId=$.string();continue;case 8:if(X!==66)break;Q.language=$.string();continue;case 9:if(X!==74)break;Q.message=$.string();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{url:D(G.url)?globalThis.String(G.url):void 0,duration:D(G.duration)?globalThis.Number(G.duration):void 0,status:D(G.status)?globalThis.Number(G.status):0,remainingTime:D(G.remainingTime)?globalThis.Number(G.remainingTime):void 0,unknown0:D(G.unknown0)?globalThis.Number(G.unknown0):void 0,translationId:D(G.translationId)?globalThis.String(G.translationId):"",language:D(G.language)?globalThis.String(G.language):void 0,message:D(G.message)?globalThis.String(G.message):void 0}},toJSON(G){const Y={};if(G.url!==void 0)Y.url=G.url;if(G.duration!==void 0)Y.duration=G.duration;if(G.status!==0)Y.status=Math.round(G.status);if(G.remainingTime!==void 0)Y.remainingTime=Math.round(G.remainingTime);if(G.unknown0!==void 0)Y.unknown0=Math.round(G.unknown0);if(G.translationId!=="")Y.translationId=G.translationId;if(G.language!==void 0)Y.language=G.language;if(G.message!==void 0)Y.message=G.message;return Y},create(G){return z0.fromPartial(G??{})},fromPartial(G){const Y=YG();return Y.url=G.url??void 0,Y.duration=G.duration??void 0,Y.status=G.status??0,Y.remainingTime=G.remainingTime??void 0,Y.unknown0=G.unknown0??void 0,Y.translationId=G.translationId??"",Y.language=G.language??void 0,Y.message=G.message??void 0,Y}},r={encode(G,Y=z.default.Writer.create()){if(G.language!=="")Y.uint32(10).string(G.language);if(G.url!=="")Y.uint32(18).string(G.url);if(G.unknown0!==0)Y.uint32(24).int32(G.unknown0);if(G.translatedLanguages!=="")Y.uint32(34).string(G.translatedLanguages);if(G.translatedUrl!=="")Y.uint32(42).string(G.translatedUrl);if(G.unknown1!==0)Y.uint32(48).int32(G.unknown1);if(G.unknown2!==0)Y.uint32(56).int32(G.unknown2);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=GG();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==10)break;Q.language=$.string();continue;case 2:if(X!==18)break;Q.url=$.string();continue;case 3:if(X!==24)break;Q.unknown0=$.int32();continue;case 4:if(X!==34)break;Q.translatedLanguages=$.string();continue;case 5:if(X!==42)break;Q.translatedUrl=$.string();continue;case 6:if(X!==48)break;Q.unknown1=$.int32();continue;case 7:if(X!==56)break;Q.unknown2=$.int32();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{language:D(G.language)?globalThis.String(G.language):"",url:D(G.url)?globalThis.String(G.url):"",unknown0:D(G.unknown0)?globalThis.Number(G.unknown0):0,translatedLanguages:D(G.translatedLanguages)?globalThis.String(G.translatedLanguages):"",translatedUrl:D(G.translatedUrl)?globalThis.String(G.translatedUrl):"",unknown1:D(G.unknown1)?globalThis.Number(G.unknown1):0,unknown2:D(G.unknown2)?globalThis.Number(G.unknown2):0}},toJSON(G){const Y={};if(G.language!=="")Y.language=G.language;if(G.url!=="")Y.url=G.url;if(G.unknown0!==0)Y.unknown0=Math.round(G.unknown0);if(G.translatedLanguages!=="")Y.translatedLanguages=G.translatedLanguages;if(G.translatedUrl!=="")Y.translatedUrl=G.translatedUrl;if(G.unknown1!==0)Y.unknown1=Math.round(G.unknown1);if(G.unknown2!==0)Y.unknown2=Math.round(G.unknown2);return Y},create(G){return r.fromPartial(G??{})},fromPartial(G){const Y=GG();return Y.language=G.language??"",Y.url=G.url??"",Y.unknown0=G.unknown0??0,Y.translatedLanguages=G.translatedLanguages??"",Y.translatedUrl=G.translatedUrl??"",Y.unknown1=G.unknown1??0,Y.unknown2=G.unknown2??0,Y}},T0={encode(G,Y=z.default.Writer.create()){if(G.url!=="")Y.uint32(10).string(G.url);if(G.language!=="")Y.uint32(18).string(G.language);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=$G();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==10)break;Q.url=$.string();continue;case 2:if(X!==18)break;Q.language=$.string();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{url:D(G.url)?globalThis.String(G.url):"",language:D(G.language)?globalThis.String(G.language):""}},toJSON(G){const Y={};if(G.url!=="")Y.url=G.url;if(G.language!=="")Y.language=G.language;return Y},create(G){return T0.fromPartial(G??{})},fromPartial(G){const Y=$G();return Y.url=G.url??"",Y.language=G.language??"",Y}},N0={encode(G,Y=z.default.Writer.create()){if(G.waiting!==!1)Y.uint32(8).bool(G.waiting);for(let $ of G.subtitles)r.encode($,Y.uint32(18).fork()).ldelim();return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=KG();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==8)break;Q.waiting=$.bool();continue;case 2:if(X!==18)break;Q.subtitles.push(r.decode($,$.uint32()));continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{waiting:D(G.waiting)?globalThis.Boolean(G.waiting):!1,subtitles:globalThis.Array.isArray(G?.subtitles)?G.subtitles.map((Y)=>r.fromJSON(Y)):[]}},toJSON(G){const Y={};if(G.waiting!==!1)Y.waiting=G.waiting;if(G.subtitles?.length)Y.subtitles=G.subtitles.map(($)=>r.toJSON($));return Y},create(G){return N0.fromPartial(G??{})},fromPartial(G){const Y=KG();return Y.waiting=G.waiting??!1,Y.subtitles=G.subtitles?.map(($)=>r.fromPartial($))||[],Y}},t={encode(G,Y=z.default.Writer.create()){if(G.url!=="")Y.uint32(10).string(G.url);if(G.timestamp!==0)Y.uint32(16).int64(G.timestamp);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=QG();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==10)break;Q.url=$.string();continue;case 2:if(X!==16)break;Q.timestamp=fG($.int64());continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{url:D(G.url)?globalThis.String(G.url):"",timestamp:D(G.timestamp)?globalThis.Number(G.timestamp):0}},toJSON(G){const Y={};if(G.url!=="")Y.url=G.url;if(G.timestamp!==0)Y.timestamp=Math.round(G.timestamp);return Y},create(G){return t.fromPartial(G??{})},fromPartial(G){const Y=QG();return Y.url=G.url??"",Y.timestamp=G.timestamp??0,Y}},W0={encode(G,Y=z.default.Writer.create()){if(G.url!=="")Y.uint32(10).string(G.url);if(G.language!=="")Y.uint32(18).string(G.language);if(G.responseLanguage!=="")Y.uint32(26).string(G.responseLanguage);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=XG();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==10)break;Q.url=$.string();continue;case 2:if(X!==18)break;Q.language=$.string();continue;case 3:if(X!==26)break;Q.responseLanguage=$.string();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{url:D(G.url)?globalThis.String(G.url):"",language:D(G.language)?globalThis.String(G.language):"",responseLanguage:D(G.responseLanguage)?globalThis.String(G.responseLanguage):""}},toJSON(G){const Y={};if(G.url!=="")Y.url=G.url;if(G.language!=="")Y.language=G.language;if(G.responseLanguage!=="")Y.responseLanguage=G.responseLanguage;return Y},create(G){return W0.fromPartial(G??{})},fromPartial(G){const Y=XG();return Y.url=G.url??"",Y.language=G.language??"",Y.responseLanguage=G.responseLanguage??"",Y}},I0={encode(G,Y=z.default.Writer.create()){if(G.interval!==0)Y.uint32(8).int32(G.interval);if(G.translatedInfo!==void 0)t.encode(G.translatedInfo,Y.uint32(18).fork()).ldelim();if(G.pingId!==void 0)Y.uint32(24).int32(G.pingId);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=HG();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==8)break;Q.interval=$.int32();continue;case 2:if(X!==18)break;Q.translatedInfo=t.decode($,$.uint32());continue;case 3:if(X!==24)break;Q.pingId=$.int32();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{interval:D(G.interval)?ZG(G.interval):0,translatedInfo:D(G.translatedInfo)?t.fromJSON(G.translatedInfo):void 0,pingId:D(G.pingId)?globalThis.Number(G.pingId):void 0}},toJSON(G){const Y={};if(G.interval!==0)Y.interval=FG(G.interval);if(G.translatedInfo!==void 0)Y.translatedInfo=t.toJSON(G.translatedInfo);if(G.pingId!==void 0)Y.pingId=Math.round(G.pingId);return Y},create(G){return I0.fromPartial(G??{})},fromPartial(G){const Y=HG();return Y.interval=G.interval??0,Y.translatedInfo=G.translatedInfo!==void 0&&G.translatedInfo!==null?t.fromPartial(G.translatedInfo):void 0,Y.pingId=G.pingId??void 0,Y}},U0={encode(G,Y=z.default.Writer.create()){if(G.pingId!==0)Y.uint32(8).int32(G.pingId);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=JG();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==8)break;Q.pingId=$.int32();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{pingId:D(G.pingId)?globalThis.Number(G.pingId):0}},toJSON(G){const Y={};if(G.pingId!==0)Y.pingId=Math.round(G.pingId);return Y},create(G){return U0.fromPartial(G??{})},fromPartial(G){const Y=JG();return Y.pingId=G.pingId??0,Y}},O0={encode(G,Y=z.default.Writer.create()){if(G.uuid!=="")Y.uint32(10).string(G.uuid);if(G.module!=="")Y.uint32(18).string(G.module);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=MG();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==10)break;Q.uuid=$.string();continue;case 2:if(X!==18)break;Q.module=$.string();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{uuid:D(G.uuid)?globalThis.String(G.uuid):"",module:D(G.module)?globalThis.String(G.module):""}},toJSON(G){const Y={};if(G.uuid!=="")Y.uuid=G.uuid;if(G.module!=="")Y.module=G.module;return Y},create(G){return O0.fromPartial(G??{})},fromPartial(G){const Y=MG();return Y.uuid=G.uuid??"",Y.module=G.module??"",Y}},_0={encode(G,Y=z.default.Writer.create()){if(G.sign!=="")Y.uint32(10).string(G.sign);if(G.expires!==0)Y.uint32(16).int32(G.expires);return Y},decode(G,Y){const $=G instanceof z.default.Reader?G:z.default.Reader.create(G);let K=Y===void 0?$.len:$.pos+Y;const Q=qG();while($.pos<K){const X=$.uint32();switch(X>>>3){case 1:if(X!==10)break;Q.sign=$.string();continue;case 2:if(X!==16)break;Q.expires=$.int32();continue}if((X&7)===4||X===0)break;$.skipType(X&7)}return Q},fromJSON(G){return{sign:D(G.sign)?globalThis.String(G.sign):"",expires:D(G.expires)?globalThis.Number(G.expires):0}},toJSON(G){const Y={};if(G.sign!=="")Y.sign=G.sign;if(G.expires!==0)Y.expires=Math.round(G.expires);return Y},create(G){return _0.fromPartial(G??{})},fromPartial(G){const Y=qG();return Y.sign=G.sign??"",Y.expires=G.expires??0,Y}};if(z.default.util.Long!==S0)z.default.util.Long=S0,z.default.configure();var m={encodeTranslationRequest(G,Y,$,K,Q){return D0.encode({url:G,firstRequest:!0,duration:Y,unknown0:1,language:$,forceSourceLang:!1,unknown1:0,translationHelp:Q?Q:[],responseLanguage:K,unknown2:0,unknown3:1,bypassCache:!0}).finish()},decodeTranslationResponse(G){return z0.decode(new Uint8Array(G))},encodeSubtitlesRequest(G,Y){return T0.encode({url:G,language:Y}).finish()},decodeSubtitlesResponse(G){return N0.decode(new Uint8Array(G))},encodeStreamPingRequest(G){return U0.encode({pingId:G}).finish()},encodeStreamRequest(G,Y,$){return W0.encode({url:G,language:Y,responseLanguage:$}).finish()},decodeStreamResponse(G){return I0.decode(new Uint8Array(G))},encodeYandexSessionRequest(G,Y){return O0.encode({uuid:G,module:Y}).finish()},decodeYandexSessionResponse(G){return _0.decode(new Uint8Array(G))}};var G0={host:"api.browser.yandex.ru",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 YaBrowser/24.4.0.0 Safari/537.36",hmac:"bt8xH3VOlb4mqf0nqAibnDOoiPlXsisf",defaultDuration:343};import J0 from"node:crypto";async function $0(G){const Y=new TextEncoder,$=await J0.subtle.importKey("raw",Y.encode(G0.hmac),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]),K=await J0.subtle.sign("HMAC",$,G);return new Uint8Array(K).reduce((Q,X)=>Q+X.toString(16).padStart(2,"0"),"")}function K0(G){const Y=J0.getRandomValues(new Uint8Array(31));let $=0;const K=([1e7]+1000+4000+8000+100000000000).replace(/[018]/g,(Q)=>(Q^Y[$++]&15>>Q/4).toString(16));return G?K:K.toUpperCase()}async function kG(G,Y){try{const $=new TextEncoder;let K=$.encode(Y);const Q=await J0.subtle.importKey("raw",$.encode(G),{name:"HMAC",hash:{name:"SHA-1"}},!1,["sign","verify"]),X=await J0.subtle.sign("HMAC",Q,K);return btoa(String.fromCharCode(...new Uint8Array(X)))}catch($){return console.error($),!1}}var AG={};n0(AG,{VideoTranslationStatus:()=>{{return f}},VideoService:()=>{{return C}}});var C;(function(F){F["custom"]="custom";F[F["directlink"]=F.custom]="directlink";F["youtube"]="youtube";F["piped"]="piped";F["invidious"]="invidious";F["vk"]="vk";F["nine_gag"]="nine_gag";F[F["gag"]=F.nine_gag]="gag";F["twitch"]="twitch";F["proxitok"]="proxitok";F["tiktok"]="tiktok";F["vimeo"]="vimeo";F["xvideos"]="xvideos";F["pornhub"]="pornhub";F["twitter"]="twitter";F["rumble"]="rumble";F["facebook"]="facebook";F["rutube"]="rutube";F["coub"]="coub";F["bilibili"]="bilibili";F["mail_ru"]="mailru";F[F["mailru"]=F.mail_ru]="mailru";F["bitchute"]="bitchute";F["eporner"]="eporner";F["peertube"]="peertube";F["dailymotion"]="dailymotion";F["trovo"]="trovo";F["yandexdisk"]="yandexdisk";F["ok_ru"]="okru";F[F["okru"]=F.ok_ru]="okru";F["googledrive"]="googledrive";F["bannedvideo"]="bannedvideo";F["weverse"]="weverse";F["newgrounds"]="newgrounds";F["egghead"]="egghead";F["youku"]="youku"})(C||(C={}));var f;(function(H){H[H["FAILED"]=0]="FAILED";H[H["FINISHED"]=1]="FINISHED";H[H["WAITING"]=2]="WAITING";H[H["LONG_WAITING"]=3]="LONG_WAITING";H[H["PART_CONTENT"]=5]="PART_CONTENT";H[H["LONG_WAITING_2"]=6]="LONG_WAITING_2"})(f||(f={}));var DG=["invidious.snopyta.org","yewtu.be","invidious.kavin.rocks","vid.puffyan.us","invidious.namazso.eu","inv.riverside.rocks","yt.artemislena.eu","invidious.flokinet.to","invidious.esmailelbob.xyz","y.com.sb","invidious.nerdvpn.de","inv.vern.cc","invidious.slipfox.xyz","invidio.xamh.de","invidious.dhusch.de"],zG=["piped.video","piped.tokhmi.xyz","piped.moomoo.me","piped.syncpundit.io","piped.mha.fi","watch.whatever.social","piped.garudalinux.org","efy.piped.pages.dev","watch.leptons.xyz","piped.lunar.icu","yt.dc09.ru","piped.mint.lgbt","il.ax","piped.privacy.com.de","piped.esmailelbob.xyz","piped.projectsegfau.lt","piped.in.projectsegfau.lt","piped.us.projectsegfau.lt","piped.privacydev.net","piped.palveluntarjoaja.eu","piped.smnz.de","piped.adminforge.de","piped.qdi.fi","piped.hostux.net","piped.chauvet.pro","piped.jotoma.de","piped.pfcd.me","piped.frontendfriendly.xyz"],TG=["proxitok.pabloferreiro.es","proxitok.pussthecat.org","tok.habedieeh.re","proxitok.esmailelbob.xyz","proxitok.privacydev.net","tok.artemislena.eu","tok.adminforge.de","tik.hostux.net","tt.vern.cc","cringe.whatever.social","proxitok.lunar.icu","proxitok.privacy.com.de"],NG=["peertube.1312.media","tube.shanti.cafe","bee-tube.fr","video.sadmin.io","dalek.zone","review.peertube.biz","peervideo.club","tube.la-dina.net","peertube.tmp.rcp.tf","peertube.su"];var WG=[{host:C.youtube,url:"https://youtu.be/",match:/^((www.|m.)?youtube(-nocookie|kids)?.com)|(youtu.be)$/},{host:C.invidious,url:"https://youtu.be/",match:DG},{host:C.piped,url:"https://youtu.be/",match:zG},{host:C.vk,url:"https://vk.com/video?z=",match:/^(www.|m.)?vk.(com|ru)$/},{host:C.nine_gag,url:"https://9gag.com/gag/",match:/^9gag.com$/},{host:C.twitch,url:"https://twitch.tv/",match:[/^m.twitch.tv$/,/^(www.)?twitch.tv$/,/^clips.twitch.tv$/,/^player.twitch.tv$/]},{host:C.proxitok,url:"https://www.tiktok.com/",match:TG},{host:C.tiktok,url:"https://www.tiktok.com/",match:/^(www.)?tiktok.com$/},{host:C.vimeo,url:"https://vimeo.com/",match:/^vimeo.com$/},{host:C.vimeo,url:"https://player.vimeo.com/",match:/^player.vimeo.com$/},{host:C.xvideos,url:"https://www.xvideos.com/",match:/^(www.)?xvideos.com$/},{host:C.pornhub,url:"https://rt.pornhub.com/view_video.php?viewkey=",match:/^[a-z]+.pornhub.com$/},{host:C.twitter,url:"https://twitter.com/i/status/",match:/^twitter.com$/},{host:C.rumble,url:"https://rumble.com/",match:/^rumble.com$/},{host:C.facebook,url:"https://facebook.com/",match:(G)=>G.host.includes("facebook.com")&&(G.pathname.includes("/videos/")||G.pathname.includes("/reel/"))},{host:C.rutube,url:"https://rutube.ru/video/",match:/^rutube.ru$/},{host:C.bilibili,url:"https://www.bilibili.com/video/",match:/^(www|m|player).bilibili.com$/},{host:C.mailru,url:"https://my.mail.ru/",match:/^my.mail.ru$/},{host:C.bitchute,url:"https://www.bitchute.com/video/",match:/^(www.)?bitchute.com$/},{host:C.eporner,url:"https://www.eporner.com/",match:/^(www.)?eporner.com$/},{host:C.peertube,url:"stub",match:NG},{host:C.dailymotion,url:"https://dai.ly/",match:/^(www.)?dailymotion.com|dai.ly$/},{host:C.trovo,url:"https://trovo.live/s/",match:/^trovo.live$/},{host:C.yandexdisk,url:"https://yadi.sk/i/",match:/^disk.yandex.ru|yadi.sk$/},{host:C.okru,url:"https://ok.ru/video/",match:/^ok.ru$/},{host:C.googledrive,url:"https://drive.google.com/file/d/",match:/^drive.google.com$/},{host:C.bannedvideo,url:"https://madmaxworld.tv/watch?id=",match:/^(www.)?banned.video|madmaxworld.tv$/},{host:C.weverse,url:"https://weverse.io/",match:/^weverse.io$/},{host:C.newgrounds,url:"https://www.newgrounds.com/",match:/^(www.)?newgrounds.com$/},{host:C.egghead,url:"https://egghead.io/",match:/^egghead.io$/},{host:C.youku,url:"https://v.youku.com/",match:/^v.youku.com$/},{host:C.custom,url:"stub",match:(G)=>/([^.]+).mp4/.test(G.pathname)}];class IG extends Error{constructor(G){super(G);this.name="VideoHelper",this.message=G}}class M0{static mailru=new class{async getVideoData(G){try{return await(await fetch(`https://my.mail.ru/+/video/meta/${G}?xemail=&ajax_call=1&func_name=&mna=&mnb=&ext=1&_=${(new Date()).getTime()}`)).json()}catch(Y){console.error("Failed to get mail.ru video info",Y);return}}};static weverse=new class{API_ORIGIN="https://global.apis.naver.com/weverse/wevweb";API_APP_ID="be4d79eb8fc7bd008ee82c8ec4ff6fd4";API_HMAC_KEY="1b9cb6378d959b45714bec49971ade22e6e24e42";HEADERS={Accept:"application/json, text/plain, */*",Origin:"https://weverse.io",Referer:"https://weverse.io/"};getURLData(){return{appId:this.API_APP_ID,language:"en",os:"WEB",platform:"WEB",wpf:"pc"}}async createHash(G){const Y=Date.now();let $=G.substring(0,Math.min(255,G.length))+Y;const K=await kG(this.API_HMAC_KEY,$);if(!K)throw new IG("Failed to get weverse HMAC signature");return{wmsgpad:Y.toString(),wmd:K}}async getPostPreview(G){const Y=`/post/v1.0/post-${G}/preview?`+new URLSearchParams({fieldSet:"postForPreview",...this.getURLData()}),$=await this.createHash(Y);try{return await(await fetch(this.API_ORIGIN+Y+"&"+new URLSearchParams($),{headers:this.HEADERS})).json()}catch(K){return console.error(K),!1}}async getVideoInKey(G){const Y=`/video/v1.1/vod/${G}/inKey?`+new URLSearchParams({gcc:"RU",...this.getURLData()}),$=await this.createHash(Y);try{return await(await fetch(this.API_ORIGIN+Y+"&"+new URLSearchParams($),{method:"POST",headers:this.HEADERS})).json()}catch(K){return console.error(K),!1}}async getVideoInfo(G,Y,$){const K=Date.now();try{return await(await fetch(`https://global.apis.naver.com/rmcnmv/rmcnmv/vod/play/v2.0/${G}?`+new URLSearchParams({key:Y,sid:$,nonce:K.toString(),devt:"html5_pc",prv:"N",aup:"N",stpb:"N",cpl:"en",env:"prod",lc:"en",adi:JSON.stringify([{adSystem:null}]),adu:"/"}),{headers:this.HEADERS})).json()}catch(Q){return console.error(Q),!1}}extractVideoInfo(G){return G.find((Y)=>Y.useP2P===!1&&Y.source.includes(".mp4"))}async getVideoData(G){const Y=await this.getPostPreview(G);if(!Y)return;const{videoId:$,serviceId:K,infraVideoId:Q}=Y.extension.video;if(!($&&K&&Q))return;const X=await this.getVideoInKey($);if(!X)return;const H=await this.getVideoInfo(Q,X.inKey,K);if(!H)return;const Z=this.extractVideoInfo(H.videos.list);if(!Z)return;return{url:Z.source,duration:Z.duration}}}}var dG=function(G){if(G.startsWith("file://"))return!1;let Y;try{Y=new URL(G)}catch(Q){return console.error(`Invalid URL: ${G}. Have you forgotten https?`),!1}if(Y.pathname.endsWith(".mp4"))return{host:C.custom};const $=Y.hostname,K=(Q)=>{if(Q instanceof RegExp)return Q.test($);else if(typeof Q==="string")return $.includes(Q);else if(typeof Q==="function")return Q(Y);return!1};return WG.find((Q)=>{return(Array.isArray(Q.match)?Q.match.some(K):K(Q.match))&&Q.host&&Q.url})};async function mG(G,Y){const $=new URL(Y);switch(G.host){case C.custom:return $.href;case C.piped:case C.invidious:case C.youtube:if($.hostname==="youtu.be")$.search=`?v=${$.pathname.replace("/","")}`,$.pathname="/watch";return $.pathname.match(/(?:watch|embed|shorts|live)\/([^/]+)/)?.[1]||$.searchParams.get("v");case C.vk:{const K=$.pathname.match(/^\/video-?[0-9]{8,9}_[0-9]{9}$/),Q=$.searchParams.get("z"),X=$.searchParams.get("oid"),H=$.searchParams.get("id");if(K)return K[0].slice(1);else if(Q)return Q.split("/")[0];else if(X&&H)return`video-${Math.abs(parseInt(X))}_${H}`;return null}case C.nine_gag:case C.gag:return $.pathname.match(/gag\/([^/]+)/)?.[1];case C.twitch:{const K=$.pathname.match(/([^/]+)\/(?:clip)\/([^/]+)/),Q=/^clips\.twitch\.tv$/.test($.hostname);if(/^m\.twitch\.tv$/.test($.hostname))return $.href.match(/videos\/([^/]+)/)?.[0]||$.pathname.slice(1);else if(/^player\.twitch\.tv$/.test($.hostname))return`videos/${$.searchParams.get("video")}`;else if(Q){const X=$.pathname.slice(1),H=X==="embed",M=(await(await fetch(`https://clips.twitch.tv/${H?$.searchParams.get("clip"):$.pathname.slice(1)}`,{headers:{"User-Agent":"Googlebot/2.1 (+http://www.googlebot.com/bot.html)"}})).text()).match(/"url":"https:\/\/www\.twitch\.tv\/([^"]+)"/);if(!M)return null;return`${M[1]}/clip/${H?$.searchParams.get("clip"):X}`}else if(K)return K[0];return $.pathname.match(/(?:videos)\/([^/]+)/)?.[0]}case C.proxitok:case C.tiktok:return $.pathname.match(/([^/]+)\/video\/([^/]+)/)?.[0];case C.vimeo:{const K=$.searchParams.get("app_id"),Q=$.pathname.match(/[^/]+\/[^/]+$/)?.[0]||$.pathname.match(/[^/]+$/)?.[0];return K?`${Q}?app_id=${K}`:Q}case C.xvideos:return $.pathname.match(/[^/]+\/[^/]+$/)?.[0];case C.pornhub:return $.searchParams.get("viewkey")||$.pathname.match(/embed\/([^/]+)/)?.[1];case C.twitter:return $.pathname.match(/status\/([^/]+)/)?.[1];case C.rumble:case C.facebook:return $.pathname.slice(1);case C.rutube:return $.pathname.match(/(?:video|embed)\/([^/]+)/)?.[1];case C.bilibili:{const K=$.searchParams.get("bvid");if(K)return K;let Q=$.pathname.match(/video\/([^/]+)/)?.[1];if(Q&&$.searchParams.get("p")!==null)Q+=`/?p=${$.searchParams.get("p")}`;return Q}case C.mailru:{const K=$.pathname;if(K.startsWith("/v/")||K.startsWith("/mail/"))return K.slice(1);const Q=K.match(/video\/embed\/([^/]+)/)?.[1];if(!Q)return null;const X=await M0.mailru.getVideoData(Q);if(!X)return null;return X.meta.url.replace("//my.mail.ru/","")}case C.bitchute:return $.pathname.match(/(video|embed)\/([^/]+)/)?.[2];case C.eporner:return $.pathname.match(/video-([^/]+)\/([^/]+)/)?.[0];case C.peertube:return $.pathname.match(/\/w\/([^/]+)/)?.[0];case C.dailymotion:return $.hostname==="dai.ly"?$.pathname.slice(1):$.pathname.match(/video\/([^/]+)/)?.[1];case C.trovo:{const K=$.searchParams.get("vid");if(!K)return null;const Q=$.pathname.match(/([^/]+)\/([\d]+)/)?.[0];if(!Q)return null;return`${Q}?vid=${K}`}case C.yandexdisk:return $.pathname.match(/\/i\/([^/]+)/)?.[1];case C.okru:return $.pathname.match(/\/video\/(\d+)/)?.[1];case C.googledrive:return $.pathname.match(/\/file\/d\/([^/]+)/)?.[1];case C.bannedvideo:{const K=$.searchParams.get("id");return(await(await fetch(`${G.url}${K}`)).text()).match(/https:\/\/download.assets.video\/videos\/([^.]+).mp4/)?.[0]}case C.weverse:{const K=$.pathname.match(/([^/]+)\/(live|media)\/([^/]+)/)?.[3];if(!K)return;const Q=await M0.weverse.getVideoData(K);return Q?Q.url:void 0}case C.newgrounds:return $.pathname.match(/([^/]+)\/(view)\/([^/]+)/)?.[0];case C.egghead:return $.pathname.slice(1);case C.youku:return $.pathname.match(/v_show\/id_[\w=]+/)?.[0];case C.custom:return $.pathname+$.search;default:return}}async function l0(G){const Y=dG(G);if(!Y)throw new g0(`URL: "${G}" is unknown service`);let $=await mG(Y,G);if(!$)throw new g0(`Entered unsupported link: "${G}"`);if([C.peertube].includes(Y.host))Y.url=new URL(G).origin;return[C.weverse,C.bannedvideo,C.custom].includes(Y.host)?$:`${Y.url}${$}`}class g0 extends Error{constructor(G){super(G);this.name="NormalizeError",this.message=G}}class b extends Error{constructor(G){super(G);this.name="VOTJSError",this.message=G}}class R0{host;fetch;fetchOpts;normalize;requestLang;responseLang;userAgent=G0.userAgent;headers={"User-Agent":this.userAgent,Accept:"application/x-protobuf","Accept-Language":"en","Content-Type":"application/x-protobuf",Pragma:"no-cache","Cache-Control":"no-cache","Sec-Fetch-Mode":"no-cors"};constructor({host:G=G0.host,fetchFn:Y=fetch,fetchOpts:$={},normalizeFn:K=l0,requestLang:Q="en",responseLang:X="ru"}={}){this.host=G,this.fetch=Y,this.fetchOpts=$,this.normalize=K,this.requestLang=Q,this.responseLang=X}async request(G,Y,$={}){const K={method:"POST",headers:{...this.headers,...$},body:new Blob([Y]),...this.fetchOpts};try{const Q=await this.fetch(`https://${this.host}${G}`,K),X=await Q.arrayBuffer();return{success:Q.status===200,data:X}}catch(Q){return console.error("[vot.js]",Q.message),{success:!1,data:null}}}async translateVideo({url:G,duration:Y=G0.defaultDuration,requestLang:$=this.requestLang,responseLang:K=this.responseLang,translationHelp:Q=null,headers:X={}}){const H=m.encodeTranslationRequest(await this.normalize(G),Y,$,K,Q),Z=await this.request("/video-translation/translate",H,{"Vtrans-Signature":await $0(H),"Sec-Vtrans-Token":K0(!1),...X});if(!Z.success)throw new b("Failed to request video translation");const J=m.decodeTranslationResponse(Z.data);switch(J.status){case f.FAILED:throw new b("Yandex couldn't translate video");case f.FINISHED:case f.PART_CONTENT:if(!J.url)throw new b("Audio link wasn't received from Yandex response");return{translated:!0,url:J.url,remainingTime:J.remainingTime??-1};case f.WAITING:return{translated:!1,remainingTime:J.remainingTime};case f.LONG_WAITING:case f.LONG_WAITING_2:return{translated:!1,remainingTime:J.remainingTime??-1}}throw console.error("[vot.js] Unknown response",J),new b("Unknown response from Yandex")}async getSubtitles({url:G,requestLang:Y=this.requestLang,headers:$={}}){const K=m.encodeSubtitlesRequest(await this.normalize(G),Y),Q=await this.request("/video-subtitles/get-subtitles",K,{"Vsubs-Signature":await $0(K),"Sec-Vsubs-Token":K0(!1),...$});if(!Q.success)throw new b("Failed to request video subtitles");return m.decodeSubtitlesResponse(Q.data)}async pingStream({pingId:G,headers:Y={}}){const $=m.encodeStreamPingRequest(G);if(!(await this.request("/stream-translation/ping-stream",$,{"Vtrans-Signature":await $0($),"Sec-Vtrans-Token":K0(!1),...Y})).success)throw new b("Failed to request stream ping");return!0}async translateStream({url:G,requestLang:Y=this.requestLang,responseLang:$=this.responseLang,headers:K={}}){const Q=m.encodeStreamRequest(await this.normalize(G),Y,$),X=await this.request("/stream-translation/translate-stream",Q,{"Vtrans-Signature":await $0(Q),"Sec-Vtrans-Token":K0(!1),...K});if(!X.success)throw new b("Failed to request stream translation");const H=m.decodeStreamResponse(X.data),Z=H.interval;switch(Z){case 0:case 10:return{translated:!1,interval:Z,message:Z===0?"streamNoConnectionToServer":"translationTakeFewMinutes"};case 20:return{translated:!0,interval:Z,result:H.translatedInfo}}throw console.error("[vot.js] Unknown response",H),new b("Unknown response from Yandex")}}class UG extends R0{constructor(){super(...arguments)}async request(G,Y,$={}){const K={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({headers:{...this.headers,...$},body:Array.from(Y)}),...this.fetchOpts};try{const Q=await this.fetch(`https://${this.host}${G}`,K),X=await Q.arrayBuffer();return{success:Q.status===200,data:X}}catch(Q){return console.error("[vot.js]",Q.message),{success:!1,data:null}}}}var bG={};var gG={};var lG={};export{m as yandexProtobuf,l0 as normalize,K0 as getUUID,$0 as getSignature,R0 as default,AG as YandexType,CG as YandexProtobufType,lG as WeverseType,M0 as VideoHelper,UG as VOTWorkerClient,gG as MailRuType,bG as ClientType};
